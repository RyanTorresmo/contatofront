<div *ngFor="let contato of contatos" class="card">

  <ng-container *ngIf="contatoEditando?.id === contato.id; else visualizacaoContato">
    <div class="form-edicao">
      <h3>Editar Contato</h3>

      <div class="form-group">
        <label>Nome:</label>
        <input [(ngModel)]="contatoEditando.nome" name="nome">
      </div>

      <div class="form-group">
        <label>Sobrenome:</label>
        <input [(ngModel)]="contatoEditando.sobrenome" name="sobrenome">
      </div>

      <div class="form-group">
        <label>Email:</label>
        <input [(ngModel)]="contatoEditando.email" name="email" type="email">
      </div>

      <div class="form-group">
        <label>Telefone:</label>
        <input [(ngModel)]="contatoEditando.telefone" name="telefone">
      </div>  

      <div class="form-group">
        <label>Celular:</label>
        <input [(ngModel)]="contatoEditando.celular" name="celular">
      </div>

      <div class="form-group">
        <label>Endereco:</label>
        <input [(ngModel)]="contatoEditando.endereco" name="endereco">
      </div>

      <div class="form-group">
        <label>Cidade:</label>
        <input [(ngModel)]="contatoEditando.cidade" name="cidade">
      </div>
      
      <div class="form-group">
        <label>Categoria:</label>
        <input [(ngModel)]="contatoEditando.categoria" name="categoria">
      </div>

      <div class="acoes">
        <button (click)="salvarEdicao()" class="salvar">Salvar</button>
        <button (click)="cancelarEdicao()" class="cancelar">Cancelar</button>
      </div>
    </div>
  </ng-container>

  <ng-template #visualizacaoContato>
    <div>
      <h3>{{ contato.nome }} {{ contato.sobrenome }}</h3>
      <p><strong>Telefone:</strong> {{ contato.telefone }}</p>
      <p><strong>Email:</strong> {{ contato.email }}</p>
      <p><strong>Empresa:</strong> {{ contato.empresa }}</p>
      <p><strong>Categoria:</strong> {{ contato.categoria }}</p>
      <p><strong>Cidade:</strong> {{ contato.cidade }}</p>
      <p><strong>Bairro:</strong> {{ contato.bairro }}</p>
      <p><strong>Time:</strong> {{ contato.time }}</p>
      <p><strong>Idade:</strong> {{ contato.idade }}</p>

      <div class="acoes">
        <button (click)="favoritar(contato)">
          {{ contato.favorito ? '★ Favorito' : '☆ Favoritar' }}
        </button>
        <button (click)="iniciarEdicao(contato)" class="editar">Editar</button>
        <button (click)="deletar(contato.id)" class="excluir">Excluir</button>
      </div>
    </div>
  </ng-template>

</div>
